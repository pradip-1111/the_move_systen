{"ast":null,"code":"import _objectSpread from\"C:/Users/sarra/OneDrive - Amrita Vishwa Vidyapeetham- Chennai Campus/Desktop/movieHub2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{moviesAPI}from'../../services/api';// Async thunks\nexport const fetchMovies=createAsyncThunk('movies/fetchMovies',async(params,_ref)=>{let{rejectWithValue}=_ref;try{const response=await moviesAPI.getMovies(params);return response.data;}catch(error){var _error$response;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}});export const fetchFeaturedMovies=createAsyncThunk('movies/fetchFeaturedMovies',async(_,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await moviesAPI.getFeatured();return response.data;}catch(error){var _error$response2;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);}});export const fetchMovieDetails=createAsyncThunk('movies/fetchMovieDetails',async(movieId,_ref3)=>{let{rejectWithValue}=_ref3;try{const response=await moviesAPI.getMovie(movieId);return response.data;}catch(error){var _error$response3;return rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message);}});export const searchMovies=createAsyncThunk('movies/searchMovies',async(_ref4,_ref5)=>{let{query,filters}=_ref4;let{rejectWithValue}=_ref5;try{const response=await moviesAPI.searchMovies(query,filters);return response.data;}catch(error){var _error$response4;return rejectWithValue(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error.message);}});const movieSlice=createSlice({name:'movies',initialState:{movies:[],featuredMovies:[],currentMovie:null,searchResults:[],genres:[],loading:false,searchLoading:false,error:null,searchError:null,totalPages:1,currentPage:1,filters:{genre:'',year:'',rating:'',sortBy:'popularity'}},reducers:{clearMovies:state=>{state.movies=[];state.searchResults=[];},clearCurrentMovie:state=>{state.currentMovie=null;},setFilters:(state,action)=>{state.filters=_objectSpread(_objectSpread({},state.filters),action.payload);},clearFilters:state=>{state.filters={genre:'',year:'',rating:'',sortBy:'popularity'};},clearSearchResults:state=>{state.searchResults=[];state.searchError=null;}},extraReducers:builder=>{// Fetch movies\nbuilder.addCase(fetchMovies.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchMovies.fulfilled,(state,action)=>{state.loading=false;state.movies=action.payload.movies||[];state.totalPages=action.payload.totalPages||1;state.currentPage=action.payload.currentPage||1;}).addCase(fetchMovies.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});// Fetch featured movies\nbuilder.addCase(fetchFeaturedMovies.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchFeaturedMovies.fulfilled,(state,action)=>{state.loading=false;state.featuredMovies=action.payload;}).addCase(fetchFeaturedMovies.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});// Fetch movie details\nbuilder.addCase(fetchMovieDetails.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchMovieDetails.fulfilled,(state,action)=>{state.loading=false;state.currentMovie=action.payload;}).addCase(fetchMovieDetails.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});// Search movies\nbuilder.addCase(searchMovies.pending,state=>{state.searchLoading=true;state.searchError=null;}).addCase(searchMovies.fulfilled,(state,action)=>{state.searchLoading=false;state.searchResults=action.payload.movies||[];}).addCase(searchMovies.rejected,(state,action)=>{state.searchLoading=false;state.searchError=action.payload;});}});export const{clearMovies,clearCurrentMovie,setFilters,clearFilters,clearSearchResults}=movieSlice.actions;export default movieSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","moviesAPI","fetchMovies","params","_ref","rejectWithValue","response","getMovies","data","error","_error$response","message","fetchFeaturedMovies","_","_ref2","getFeatured","_error$response2","fetchMovieDetails","movieId","_ref3","getMovie","_error$response3","searchMovies","_ref4","_ref5","query","filters","_error$response4","movieSlice","name","initialState","movies","featuredMovies","currentMovie","searchResults","genres","loading","searchLoading","searchError","totalPages","currentPage","genre","year","rating","sortBy","reducers","clearMovies","state","clearCurrentMovie","setFilters","action","_objectSpread","payload","clearFilters","clearSearchResults","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["C:/Users/sarra/OneDrive - Amrita Vishwa Vidyapeetham- Chennai Campus/Desktop/movieHub2/frontend/src/store/slices/movieSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { moviesAPI } from '../../services/api';\r\n\r\n// Async thunks\r\nexport const fetchMovies = createAsyncThunk(\r\n  'movies/fetchMovies',\r\n  async (params, { rejectWithValue }) => {\r\n    try {\r\n      const response = await moviesAPI.getMovies(params);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchFeaturedMovies = createAsyncThunk(\r\n  'movies/fetchFeaturedMovies',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await moviesAPI.getFeatured();\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchMovieDetails = createAsyncThunk(\r\n  'movies/fetchMovieDetails',\r\n  async (movieId, { rejectWithValue }) => {\r\n    try {\r\n      const response = await moviesAPI.getMovie(movieId);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const searchMovies = createAsyncThunk(\r\n  'movies/searchMovies',\r\n  async ({ query, filters }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await moviesAPI.searchMovies(query, filters);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst movieSlice = createSlice({\r\n  name: 'movies',\r\n  initialState: {\r\n    movies: [],\r\n    featuredMovies: [],\r\n    currentMovie: null,\r\n    searchResults: [],\r\n    genres: [],\r\n    loading: false,\r\n    searchLoading: false,\r\n    error: null,\r\n    searchError: null,\r\n    totalPages: 1,\r\n    currentPage: 1,\r\n    filters: {\r\n      genre: '',\r\n      year: '',\r\n      rating: '',\r\n      sortBy: 'popularity'\r\n    }\r\n  },\r\n  reducers: {\r\n    clearMovies: (state) => {\r\n      state.movies = [];\r\n      state.searchResults = [];\r\n    },\r\n    clearCurrentMovie: (state) => {\r\n      state.currentMovie = null;\r\n    },\r\n    setFilters: (state, action) => {\r\n      state.filters = { ...state.filters, ...action.payload };\r\n    },\r\n    clearFilters: (state) => {\r\n      state.filters = {\r\n        genre: '',\r\n        year: '',\r\n        rating: '',\r\n        sortBy: 'popularity'\r\n      };\r\n    },\r\n    clearSearchResults: (state) => {\r\n      state.searchResults = [];\r\n      state.searchError = null;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    // Fetch movies\r\n    builder\r\n      .addCase(fetchMovies.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchMovies.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.movies = action.payload.movies || [];\r\n        state.totalPages = action.payload.totalPages || 1;\r\n        state.currentPage = action.payload.currentPage || 1;\r\n      })\r\n      .addCase(fetchMovies.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n\r\n    // Fetch featured movies\r\n    builder\r\n      .addCase(fetchFeaturedMovies.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchFeaturedMovies.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.featuredMovies = action.payload;\r\n      })\r\n      .addCase(fetchFeaturedMovies.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n\r\n    // Fetch movie details\r\n    builder\r\n      .addCase(fetchMovieDetails.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchMovieDetails.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.currentMovie = action.payload;\r\n      })\r\n      .addCase(fetchMovieDetails.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n\r\n    // Search movies\r\n    builder\r\n      .addCase(searchMovies.pending, (state) => {\r\n        state.searchLoading = true;\r\n        state.searchError = null;\r\n      })\r\n      .addCase(searchMovies.fulfilled, (state, action) => {\r\n        state.searchLoading = false;\r\n        state.searchResults = action.payload.movies || [];\r\n      })\r\n      .addCase(searchMovies.rejected, (state, action) => {\r\n        state.searchLoading = false;\r\n        state.searchError = action.payload;\r\n      });\r\n  }\r\n});\r\n\r\nexport const {\r\n  clearMovies,\r\n  clearCurrentMovie,\r\n  setFilters,\r\n  clearFilters,\r\n  clearSearchResults\r\n} = movieSlice.actions;\r\n\r\nexport default movieSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}