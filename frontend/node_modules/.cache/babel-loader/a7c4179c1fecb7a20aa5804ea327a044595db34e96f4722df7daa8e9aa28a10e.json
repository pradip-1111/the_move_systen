{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import{Provider,useSelector}from'react-redux';import{PersistGate}from'redux-persist/integration/react';import{QueryClient,QueryClientProvider}from'react-query';import{Toaster}from'react-hot-toast';import{store,persistor}from'./store';// Components\nimport Navbar from'./components/layout/Navbar';import Footer from'./components/layout/Footer';import LoadingSpinner from'./components/ui/LoadingSpinner';import ProtectedRoute from'./components/auth/ProtectedRoute';import DatabaseStatus from'./components/common/DatabaseStatus';// Pages\nimport HomePage from'./pages/HomePage';import MoviesPage from'./pages/MoviesPage';import MovieDetailPage from'./pages/MovieDetailPage';import ProfilePage from'./pages/ProfilePage';import WatchlistPage from'./pages/WatchlistPage';import LoginPage from'./pages/auth/LoginPage';import RegisterPage from'./pages/auth/RegisterPage';import NotFoundPage from'./pages/NotFoundPage';// Styles\nimport'./index.css';// Create React Query client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:false,staleTime:5*60*1000// 5 minutes\n}}});// Theme wrapper component\nconst ThemedApp=()=>{const{mode}=useSelector(state=>state.theme);useEffect(()=>{// Apply theme to document root\nconst root=document.documentElement;if(mode==='dark'){root.classList.add('dark');}else{root.classList.remove('dark');}},[mode]);return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen transition-all duration-500 flex flex-col \".concat(mode==='dark'?'bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white':'bg-gradient-to-br from-gray-50 via-white to-blue-50 text-gray-900'),children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(DatabaseStatus,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/movies\",element:/*#__PURE__*/_jsx(MoviesPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/movies/:id\",element:/*#__PURE__*/_jsx(MovieDetailPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/watchlist/:userId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(WatchlistPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,className:mode==='dark'?'bg-gray-800 text-white border border-gray-700':'bg-white text-gray-900 border border-gray-200',style:{background:mode==='dark'?'#1f2937':'#ffffff',color:mode==='dark'?'#f9fafb':'#111827',border:mode==='dark'?'1px solid #374151':'1px solid #e5e7eb',borderRadius:'12px',boxShadow:mode==='dark'?'0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2)':'0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)'}}})]});};function App(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(PersistGate,{loading:/*#__PURE__*/_jsx(LoadingSpinner,{}),persistor:persistor,children:/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(ThemedApp,{})})})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Provider","useSelector","PersistGate","QueryClient","QueryClientProvider","Toaster","store","persistor","Navbar","Footer","LoadingSpinner","ProtectedRoute","DatabaseStatus","HomePage","MoviesPage","MovieDetailPage","ProfilePage","WatchlistPage","LoginPage","RegisterPage","NotFoundPage","jsx","_jsx","jsxs","_jsxs","queryClient","defaultOptions","queries","retry","refetchOnWindowFocus","staleTime","ThemedApp","mode","state","theme","root","document","documentElement","classList","add","remove","children","className","concat","path","element","position","toastOptions","duration","style","background","color","border","borderRadius","boxShadow","App","loading","client"],"sources":["C:/Users/sarra/OneDrive - Amrita Vishwa Vidyapeetham- Chennai Campus/Desktop/movieHub2/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { Provider, useSelector } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport { store, persistor } from './store';\r\n\r\n// Components\r\nimport Navbar from './components/layout/Navbar';\r\nimport Footer from './components/layout/Footer';\r\nimport LoadingSpinner from './components/ui/LoadingSpinner';\r\nimport ProtectedRoute from './components/auth/ProtectedRoute';\r\nimport DatabaseStatus from './components/common/DatabaseStatus';\r\n\r\n// Pages\r\nimport HomePage from './pages/HomePage';\r\nimport MoviesPage from './pages/MoviesPage';\r\nimport MovieDetailPage from './pages/MovieDetailPage';\r\nimport ProfilePage from './pages/ProfilePage';\r\nimport WatchlistPage from './pages/WatchlistPage';\r\nimport LoginPage from './pages/auth/LoginPage';\r\nimport RegisterPage from './pages/auth/RegisterPage';\r\nimport NotFoundPage from './pages/NotFoundPage';\r\n\r\n// Styles\r\nimport './index.css';\r\n\r\n// Create React Query client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n    },\r\n  },\r\n});\r\n\r\n// Theme wrapper component\r\nconst ThemedApp = () => {\r\n  const { mode } = useSelector((state) => state.theme);\r\n\r\n  useEffect(() => {\r\n    // Apply theme to document root\r\n    const root = document.documentElement;\r\n    if (mode === 'dark') {\r\n      root.classList.add('dark');\r\n    } else {\r\n      root.classList.remove('dark');\r\n    }\r\n  }, [mode]);\r\n\r\n  return (\r\n    <Router>\r\n      <div className={`min-h-screen transition-all duration-500 flex flex-col ${\r\n        mode === 'dark' \r\n          ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white' \r\n          : 'bg-gradient-to-br from-gray-50 via-white to-blue-50 text-gray-900'\r\n      }`}>\r\n        <Navbar />\r\n        <DatabaseStatus />\r\n        \r\n        <main className=\"flex-grow\">\r\n          <Routes>\r\n            {/* Public Routes */}\r\n            <Route path=\"/\" element={<HomePage />} />\r\n            <Route path=\"/movies\" element={<MoviesPage />} />\r\n            <Route path=\"/movies/:id\" element={<MovieDetailPage />} />\r\n            <Route path=\"/login\" element={<LoginPage />} />\r\n            <Route path=\"/register\" element={<RegisterPage />} />\r\n\r\n            {/* Protected Routes */}\r\n            <Route path=\"/profile/:userId\" element={\r\n              <ProtectedRoute>\r\n                <ProfilePage />\r\n              </ProtectedRoute>\r\n            } />\r\n            <Route path=\"/watchlist/:userId\" element={\r\n              <ProtectedRoute>\r\n                <WatchlistPage />\r\n              </ProtectedRoute>\r\n            } />\r\n\r\n            {/* 404 Route */}\r\n            <Route path=\"*\" element={<NotFoundPage />} />\r\n          </Routes>\r\n        </main>\r\n\r\n        <Footer />\r\n      </div>\r\n\r\n      {/* Toast Notifications */}\r\n      <Toaster\r\n        position=\"top-right\"\r\n        toastOptions={{\r\n          duration: 4000,\r\n          className: mode === 'dark' \r\n            ? 'bg-gray-800 text-white border border-gray-700' \r\n            : 'bg-white text-gray-900 border border-gray-200',\r\n          style: {\r\n            background: mode === 'dark' ? '#1f2937' : '#ffffff',\r\n            color: mode === 'dark' ? '#f9fafb' : '#111827',\r\n            border: mode === 'dark' ? '1px solid #374151' : '1px solid #e5e7eb',\r\n            borderRadius: '12px',\r\n            boxShadow: mode === 'dark' \r\n              ? '0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.2)' \r\n              : '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n          },\r\n        }}\r\n      />\r\n    </Router>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <PersistGate loading={<LoadingSpinner />} persistor={persistor}>\r\n        <QueryClientProvider client={queryClient}>\r\n          <ThemedApp />\r\n        </QueryClientProvider>\r\n      </PersistGate>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}