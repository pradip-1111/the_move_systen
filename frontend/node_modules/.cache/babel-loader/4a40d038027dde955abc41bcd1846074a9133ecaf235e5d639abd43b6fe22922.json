{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst getInitialTheme = () => {\n  // Check localStorage first\n  const savedTheme = localStorage.getItem('theme');\n  if (savedTheme) {\n    return savedTheme;\n  }\n\n  // Check system preference\n  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n    return 'dark';\n  }\n  return 'light';\n};\nconst initialState = {\n  mode: getInitialTheme()\n};\nconst themeSlice = createSlice({\n  name: 'theme',\n  initialState,\n  reducers: {\n    toggleTheme: state => {\n      state.mode = state.mode === 'light' ? 'dark' : 'light';\n      localStorage.setItem('theme', state.mode);\n    },\n    setTheme: (state, action) => {\n      state.mode = action.payload;\n      localStorage.setItem('theme', state.mode);\n    }\n  }\n});\nexport const {\n  toggleTheme,\n  setTheme\n} = themeSlice.actions;\nexport default themeSlice.reducer;","map":{"version":3,"names":["createSlice","getInitialTheme","savedTheme","localStorage","getItem","window","matchMedia","matches","initialState","mode","themeSlice","name","reducers","toggleTheme","state","setItem","setTheme","action","payload","actions","reducer"],"sources":["C:/Users/sarra/Desktop/movie-review-platform/frontend/src/store/slices/themeSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst getInitialTheme = () => {\r\n  // Check localStorage first\r\n  const savedTheme = localStorage.getItem('theme');\r\n  if (savedTheme) {\r\n    return savedTheme;\r\n  }\r\n  \r\n  // Check system preference\r\n  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n    return 'dark';\r\n  }\r\n  \r\n  return 'light';\r\n};\r\n\r\nconst initialState = {\r\n  mode: getInitialTheme(),\r\n};\r\n\r\nconst themeSlice = createSlice({\r\n  name: 'theme',\r\n  initialState,\r\n  reducers: {\r\n    toggleTheme: (state) => {\r\n      state.mode = state.mode === 'light' ? 'dark' : 'light';\r\n      localStorage.setItem('theme', state.mode);\r\n    },\r\n    setTheme: (state, action) => {\r\n      state.mode = action.payload;\r\n      localStorage.setItem('theme', state.mode);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { toggleTheme, setTheme } = themeSlice.actions;\r\nexport default themeSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAC5B;EACA,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAChD,IAAIF,UAAU,EAAE;IACd,OAAOA,UAAU;EACnB;;EAEA;EACA,IAAIG,MAAM,CAACC,UAAU,IAAID,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,EAAE;IAClF,OAAO,MAAM;EACf;EAEA,OAAO,OAAO;AAChB,CAAC;AAED,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAER,eAAe,CAAC;AACxB,CAAC;AAED,MAAMS,UAAU,GAAGV,WAAW,CAAC;EAC7BW,IAAI,EAAE,OAAO;EACbH,YAAY;EACZI,QAAQ,EAAE;IACRC,WAAW,EAAGC,KAAK,IAAK;MACtBA,KAAK,CAACL,IAAI,GAAGK,KAAK,CAACL,IAAI,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO;MACtDN,YAAY,CAACY,OAAO,CAAC,OAAO,EAAED,KAAK,CAACL,IAAI,CAAC;IAC3C,CAAC;IACDO,QAAQ,EAAEA,CAACF,KAAK,EAAEG,MAAM,KAAK;MAC3BH,KAAK,CAACL,IAAI,GAAGQ,MAAM,CAACC,OAAO;MAC3Bf,YAAY,CAACY,OAAO,CAAC,OAAO,EAAED,KAAK,CAACL,IAAI,CAAC;IAC3C;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEI,WAAW;EAAEG;AAAS,CAAC,GAAGN,UAAU,CAACS,OAAO;AAC3D,eAAeT,UAAU,CAACU,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}